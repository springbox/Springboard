/* 

Generate the default grid:
$total-columns: 12;
$column-width: 60px;
$gutter: 24px;
$column-name: span;
$normal-width: ($total-columns * $column-width) + (($total-columns - 1) * $gutter); // use for media query
@include grid-generator($total-columns, $column-width, $gutter, $column-name);
 
Using the default grid:
<div class="span-container">
	<div class="row">
		<div class="span-4">
			4 columns
		</div>
		<div class="span-6">
			<div class="row">
				<div class="span-3">
					span 3 columns
				</div>
				<div class="span-3">
					span 3 columns
				</div>
			</div>
		</div>
		<div class="span-2">
			2 columns
		</div>
	</div>
</div>
*/


@mixin grid-generator($total-columns: 12, $column-width: 72px, $gutter: 30px, $column-name: span, $spacing: -10px, $inline: false) {
	
	// If it's not a fluid grid
	@if unit($column-width) == 'px' {
 
		%#{$column-name}-container { 
			width: ( ($total-columns * $column-width) + (($total-columns) * $gutter) );		
			list-style:none;
			margin:0;
			padding:0;
			margin-left:-$gutter;
			zoom:1;
			
			&:before,
			&:after{
				content:" ";
				display:table;
			}

			&:after{
				clear:both;
			}
 
			@if $inline {
				list-style:none;
				font-size: 1px;
				letter-spacing: $spacing;
				word-spacing: $spacing;
			}
		}


		@for $column-count from 1 through $total-columns {
			%#{$column-name}-#{$column-count} {
				width: $column-count * $column-width + ($column-count - 1) * $gutter;
				margin-left: $gutter;

				@if $inline {
					display:inline-block;
					padding-left: 0;
					vertical-align:top;
					letter-spacing:normal;
					word-spacing:normal;
					font-size: medium;
				} @else {
					float: left;
				}
			}
		}

		// separate these out so they override the above
		$column-counter: 1;
		@while $column-counter < $total-columns {
			%#{$column-name}-push-#{$column-counter} {
				margin-left: $column-counter * $column-width + $column-counter * $gutter + $gutter;
			}

			%#{$column-name}-pull-#{$column-counter} {
				margin-left: ($column-counter * $column-width + $column-counter * $gutter + $gutter) * -1;
			}

			$column-counter: $column-counter + 1;
		}
	} @else if unit($column-width) == '%' {
 
		%#{$column-name}-container { 
			width: 100% + $gutter;
			margin:0;
			padding:0;
			margin-left:-$gutter; 
			zoom:1;
			list-style: none;

			&:before,
			&:after{
				content:" ";
				display:table;
			}

			&:after{
				clear:both;
			}
 
			@if $inline {
				list-style:none;
				font-size: 1px;
				letter-spacing: $spacing;
				word-spacing: $spacing;
			}
		}

		@for $column-count from 1 through $total-columns {
			%#{$column-name}-#{$column-count} {
				width: percentage($column-count / $total-columns);
				padding-left: $gutter; 
 
				@if $inline {
					display:inline-block;
					padding-left: 0;
					vertical-align:top;
					letter-spacing:normal;
					word-spacing:normal;
					font-size: medium;
				} @else {
					float: left;
				}
			}
		}

		// separate these out so they override the above
		
		$column-counter: 1;
		@while $column-counter < $total-columns {
			%#{$column-name}-push-#{$column-counter} {
				margin-left: $column-counter * $column-width + $column-counter * $gutter + $gutter;
			}
 
			%#{$column-name}-pull-#{$column-counter} {
				margin-left: ($column-counter * $column-width + $column-counter * $gutter + $gutter) * -1;
			}
 
			$column-counter: $column-counter + 1;
		}
	}
}